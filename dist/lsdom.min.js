!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addChildWatcher=t.unwatch=t.bindWatcherOnSetter=t.triggerWatcher=t.Watchers=t.setStyle=void 0;var r=n(5),o=(t.setStyle=function(e,t){Object.assign(e.style,t)},t.Watchers={root:{},currentWatcherStack:[]});window.Watchers=o;t.triggerWatcher=function(e){console.group("triggerWatcher",e.expression);var t=e.val();if(e.isModel)e.update(void 0,t||""),e.oldV=t;else if(e.isArray||0===t){if(e.isArray){var n=e.oldV||[];(0,r.diff)(n,t).forEach(function(t){(1===t[0]?e.update.add:e.update.remove)(t[1],t[2],t[3])}),e.oldV=t.slice(0)}}else e.update(0,t),e.oldV=t;console.groupEnd()},t.bindWatcherOnSetter=function(e,t){e.locations=e.locations||new Set,e.locations.has(t)||(console.log("bind "+e.expression+" to "+t),e.locations.add(t)),t.has(e)||t.add(e)},t.unwatch=function e(t){console.log("unwatch",t);var n=t.parent.childs;n.splice(n.indexOf(t),1),t.locations&&t.locations.forEach(function(e){e.delete(t)}),t.childs&&t.childs.slice(0).forEach(e)},t.addChildWatcher=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.childs||(e.childs=[]),n?e.childs.push(t):e.childs.splice(n,0,t)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),a=n(7),c=n(0),s=function(){function e(){r(this,e)}return o(e,null,[{key:"create",value:function(t,n){n.computed&&Object.keys(n.computed).forEach(function(e){var t=n.computed[e];delete n.computed[e],Object.defineProperty(n,e,{get:t,enumerable:!0,configurable:!0})});var r={create:function(){var t=Object.create(n);return t.scope&&(t.scope=t.scope(),(0,a.defineGetterSetter)(t.scope)),e.instances.push(t),t}};return e.list[t]=r,r}},{key:"render",value:function(t,n,r){var o=e.list[t].create();n.innerHTML=o.tmpl,o.$container=n,Object.assign(o,r),(0,i.parseDom)(n,o,c.Watchers.root),o.mounted&&o.mounted()}}]),e}();s.instances=[],s.list={},t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseDom=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(6),a=n(4),c=n(1),s=r(c);t.parseDom=function e(t,n,r){var c=!1;if(t.attributes&&Array.prototype.forEach.call(t.attributes,function(e){var s=e.nodeName,u=e.nodeValue;if("style"===s){if("{"===u[0]){var l=(0,i.parse)(u);"undefined"==typeof l.update?t.setStyle(t,l):(0,a.bindNode)(t,"style",n,l,{parentWatcher:r})}}else if("classname"===s){var d=(0,i.parse)(u);(0,a.bindNode)(t,"className",n,d,{parentWatcher:r})}else if("for"===s){var f=document.createComment("for");t.parentNode.insertBefore(f,t);var p=document.createComment("end");t.nextSibling?t.parentNode.insertBefore(p,t.nextSibling):t.parentNode.appendChild(p);var h=t.parentNode.removeChild(t);h.removeAttribute("for");var y=/(.*)(\s+)in(\s+)(.*)/.exec(u),v=y[1],m=y[4],b=(0,i.parse)(m);(0,a.bindNode)(f,"for",n,b,{itemExpression:v,forAnchorStart:f,forAnchorEnd:p,tmpl:h,parentWatcher:r}),c=!0}else if(["click","keypress"].includes(s))!function(){var e=(0,i.parse)(u);t.addEventListener(s,function(t){e.update.call(n)(t)},!1)}();else if("model"===s)!function(){var e=(0,i.parse)(u);t.addEventListener("input",function(){n.scope[e.expression.replace("scope.","")]=t.value}),(0,a.bindNode)(t,"value",n,e,{parentWatcher:r})}();else{var g=(0,i.parseInterpolation)(u);if("object"!==("undefined"==typeof g?"undefined":o(g)))t.setAttribute(s,g);else{var _=s.match(/(\w+-)?(\w+)/);(0,a.bindNode)(t,"attr",n,g,{parentWatcher:r,name:_[2]})}}}),3===t.nodeType){var u=t.nodeValue.trim();if(u.length){var l=(0,i.parseInterpolation)(t.nodeValue);"object"!==("undefined"==typeof l?"undefined":o(l))?t.textContent=l:(0,a.bindNode)(t,"text",n,l,{parentWatcher:r})}}if(1===t.nodeType){var d=s.default.list[t.tagName.toLowerCase()];d&&d.tmpl&&(t.innerHTML=d.tmpl)}if(!c){var f=n;if(1===t.nodeType){var p=s.default.list[t.tagName.toLowerCase()];p&&(f=p.create(),f.tmpl&&(t.innerHTML=f.tmpl),f.props&&!function(){var e={};f.props.forEach(function(r){Object.defineProperty(e,r,{get:function(){var e=n[t.getAttribute(r)];return"function"==typeof e?e.bind(n):n[t.getAttribute(r)]},set:function(e){console.error("direct modify parents' data")},enumerable:!0,configurable:!0})}),f.props=e,n.isIntermediate&&(f.__parent=n)}())}for(var h=t.childNodes[0];h;)e(h,f,r),h=h.nextSibling}}},function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function c(){v&&h&&(v=!1,h.length?y=h.concat(y):m=-1,y.length&&s())}function s(){if(!v){var e=i(c);v=!0;for(var t=y.length;t;){for(h=y,y=[];++m<t;)h&&h[m].run();m=-1,t=y.length}h=null,v=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var d,f,p=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var h,y=[],v=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];y.push(new u(e,t)),1!==y.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.bindNode=void 0;var o=n(0),i=n(2);t.bindNode=function(e,t,n,a,c){var s,u=c.parentWatcher||o.Watchers.root,l=c.parentWatcher&&c.parentWatcher.isArray?c.parentWatcher:c.parentWatcher.closestArrayWatcher?c.parentWatcher.closestArrayWatcher:c.closestArrayWatcher,d=null;switch(t){case"text":d={node:e,component:n,closestArrayWatcher:l,expression:a.expression,val:a.update.bind(n),update:function(e,t){this.node.textContent=t}};break;case"attr":d={node:e,component:n,closestArrayWatcher:l,expression:a.expression,val:a.update.bind(n),update:function(e,t){t?this.node.setAttribute(c.name,t):this.node.removeAttribute(c.name)}};break;case"style":d={node:e,component:n,closestArrayWatcher:l,expression:a.expression,val:a.update.bind(n),update:function(e,t){(0,o.setStyle)(this.node,t)}};break;case"value":d={node:e,component:n,closestArrayWatcher:l,expression:a.expression,val:a.update.bind(n),update:function(e,t){this.node.value=t},isModel:!0};break;case"className":d={node:e,component:n,closestArrayWatcher:l,expression:a.expression,val:a.update.bind(n),update:function(e,t){this.node.className=t},isModel:!0};break;case"for":s={expression:a.expression,closestArrayWatcher:l,isArray:!0,component:n,val:a.update.bind(n)},r(s,"closestArrayWatcher",l),r(s,"update",{add:function(e,t,r){console.log("for:add "+t+" to "+r);for(var s=c.forAnchorEnd,u=c.forAnchorStart,l=s.parentNode,f=c.tmpl,p=0,h=u;p<=r;){if(p>=t){var y=f.cloneNode("deep"),v=Object.create(n);v.__index=p,Object.defineProperty(v,"item",{get:function(){var e=a.update.call(n)[this.__index];return e},set:function(e){console.error("direct modify parents' data")},enumerable:!0,configurable:!0}),v.isIntermediate=!0;var m={childs:[],component:v,parent:d,closestArrayWatcher:d};(0,o.addChildWatcher)(d,m,p),(0,i.parseDom)(y,v,m),l.insertBefore(y,h.nextSibling||s)}h=h.nextSibling,p++}for(p=r+1;p<e.length;)console.log("set index",d.childs[p].component.__index,"to",d.childs[p].component.__index+r-t+1),d.childs[p].component.__index+=r-t+1,p+=1},remove:function(e,t,n){var r=c.forAnchorEnd,i=r.parentNode,a=t,s=(r.parentNode.childNodes[a],d.childs.length);for(console.group("for:remove "+t+" to "+n+", total: "+s);a<s-n+t-1;)console.log("set index",a+n-t+1,"to",a),d.childs[a+n-t+1].component.__index=a,a++;a=e.length;for(var u=r;a>=t-1;)a<=n-1&&(console.log("remove dom",a+1),i.removeChild(u.nextSibling),console.log("unwatch",a+1),(0,o.unwatch)(d.childs[a+1])),u=u.previousSibling,a--;console.groupEnd()}}),d=s}u.childs||(u.childs=[]),d.parent=u,u.childs.push(d),o.Watchers.currentWatcherStack.unshift(d),(0,o.triggerWatcher)(d),o.Watchers.currentWatcherStack.shift()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.diff=void 0;var o=n(8),i=r(o);t.diff=function(e,t){i.default.group("diff",e,t);for(var n=0,r=e.length,o=0,a=t.length,c=[];n<r&&o<a;)if(e[n]===t[o])n++,o++;else{var s=e.indexOf(t[o]);if(s>n)c.push([-1,e,n,s-1]),n=s+1,o++;else{var u=t.indexOf(e[n]);if(!(u>o))break;c.push([1,t,o,u-1]),n++,o=u+1}}return n<r&&c.push([-1,e,n,r-1]),o<a&&c.push([1,t,o,a-1]),i.default.groupEnd(),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.parse=function(e){return{expression:e,update:new Function("","with(this){ return "+e+"}")}};t.parseInterpolation=function(e){for(var t=0,n=0,o=[],i=!1;n<e.length;)"{"===e[n]?(i=!0,n>t&&o.push(e.slice(t,n)),t=n+1):"}"===e[n]&&(n>t&&o.push(r(e.slice(t,n))),t=n+1),n++;if(n>t&&o.push(e.slice(t,n)),i){new Set;return{expression:o.reduce(function(e,t){return"string"!=typeof t?e+" "+t.expression:e+" "+t},""),update:function(){var e=this;return 1===o.length&&i?o[0].update.call(this):o.reduce(function(t,n){return"string"!=typeof n?t+n.update.call(e):t+n},"")}}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defineGetterSetter=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0);["push","pop","shift","unshift","splice"].forEach(function(e){var t=Array.prototype[e];Array.prototype[e]=function(){this.__parent?(i(arguments,this.__parent,this.__key),t.apply(this,arguments),this.__parent[this.__key]=this):t.apply(this,arguments)}});var i=t.defineGetterSetter=function e(t,n,i){var a="undefined"==typeof t?"undefined":r(t);["object"].includes(a)&&null!==t&&!t.__isGetterSetter&&(Array.isArray(t)?t.forEach(function(t,n){e(t)}):Object.keys(t).forEach(function(n){var i=new Set,a=t[n];Object.defineProperty(t,n,{get:function(){if(o.Watchers.currentWatcherStack.length){var e=o.Watchers.currentWatcherStack[0],t=e.closestArrayWatcher;Array.isArray(a)&&t&&t!==e||(0,o.bindWatcherOnSetter)(e,i)}return a},set:function(t){a&&a.__parent&&e(t,a.__parent,a.__key),a=t;var n=i[Symbol.iterator](),r=null;for(console.group("set ",t);r=n.next().value;)console.log("trigger ",r.expression),(0,o.triggerWatcher)(r);console.groupEnd("set ",t," triggering ",i)},enumerable:!0,configurable:!0}),"object"===("undefined"==typeof a?"undefined":r(a))&&null!==t&&e(a,t,n)}),n&&(t.__parent=n,t.__key=i),Object.defineProperty(t,"__isGetterSetter",{value:!0,writable:!1,enumerable:!1}))}},function(e,t,n){"use strict";(function(e){function n(){}Object.defineProperty(t,"__esModule",{value:!0});var r=console;"undefined"!=typeof e&&(r={group:n,groupEnd:n,log:n}),t.default=r}).call(t,n(3))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(1),i=r(o);window.LSDom={Component:i.default}}]);